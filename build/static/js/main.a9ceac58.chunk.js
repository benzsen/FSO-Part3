(this["webpackJsonp2.6-2.10"]=this["webpackJsonp2.6-2.10"]||[]).push([[0],{20:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var a=t(2),r=t.n(a),i=t(15),c=t.n(i),o=(t(20),t(6)),u=t(3),s=t(4),l=t.n(s),d="/api/persons/",b=function(e){var n=e.name,t=e.number;return l.a.post(d,{name:n,number:t})},j=function(){return l.a.get(d)},f=function(e){return l.a.delete(d+e)},h=function(e,n){return l.a.put(d+e,n)},m=t(0),O=function(e){return Object(m.jsxs)("div",{children:[" Filter: ",Object(m.jsx)("input",{onChange:e.handleFilterChange})]})},g=function(e){var n=e.addName,t=e.newName,a=e.newNumber,r=e.handleNameChange,i=e.handleNumberChange;return Object(m.jsxs)("form",{onSubmit:n,children:[Object(m.jsxs)("div",{children:["name: ",Object(m.jsx)("input",{value:t,onChange:r})]}),Object(m.jsxs)("div",{children:["number: ",Object(m.jsx)("input",{value:a,onChange:i})]}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{type:"submit",children:"add"})})]})},v=function(e){var n=e.persons,t=e.newFilter.toLowerCase(),a=e.triggerUpdateList,r=e.setNotifClass,i=e.setNotifMessage,c=n.filter((function(e){return e.name.toLowerCase().substring(0,t.length)===t})),o=c.map((function(e){return Object(m.jsxs)("p",{children:[e.name," ",e.number+" ",Object(m.jsx)("button",{onClick:function(){!function(e){if(window.confirm("Are you sure you want to delete?"))f(e.id).then((function(n){a(n),r("greenNotif"),i(e.name+" removed")})).then(setTimeout((function(){i(null)}),5e3))}(e)},children:"delete"})]},e.name)}));return Object(m.jsx)("div",{children:o})},x=function(){var e=Object(a.useState)([]),n=Object(u.a)(e,2),t=n[0],r=n[1],i=Object(a.useState)(""),c=Object(u.a)(i,2),s=c[0],l=c[1],d=Object(a.useState)(""),f=Object(u.a)(d,2),x=f[0],N=f[1],p=Object(a.useState)(""),C=Object(u.a)(p,2),w=C[0],S=C[1],F=Object(a.useState)(""),L=Object(u.a)(F,2),k=L[0],y=L[1],T=Object(a.useState)(null),M=Object(u.a)(T,2),A=M[0],I=M[1],P=Object(a.useState)(""),B=Object(u.a)(P,2),D=B[0],E=B[1],J=function(e){return null===e.message?null:Object(m.jsx)("div",{className:e.notifClass,children:e.message})};return Object(a.useEffect)((function(){j().then((function(e){r(e.data)}))}),[k]),Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Phonebook"}),Object(m.jsx)(J,{message:A,notifClass:D}),Object(m.jsx)(O,{handleFilterChange:function(e){return S(e.target.value)}}),Object(m.jsx)("h3",{children:"Add a new"}),Object(m.jsx)(g,{addName:function(e){e.preventDefault();var n=s,a=x,i=t.find((function(e){return e.name.toLowerCase()===n.toLowerCase()}));""===n||""===a?alert("No fields can be blank"):void 0!==i?window.confirm(s+" is already taken. Would you like to update this contact?")?function(e){var n=t.find((function(n){return n._id===e}));console.log(n);var a=Object(o.a)(Object(o.a)({},n),{},{number:x});h(e,a).then((function(e){return y(e)})).then((function(){E("greenNotif"),I(n.name+"'s number has been updated!")})).then(setTimeout((function(){I(null)}),5e3)).catch((function(e){console.log(e),E("redNotif"),I("Information for "+a.name+" not found")}))}(i._id):alert("Contact Not Modified"):(r(t.concat({name:n,number:a})),b({name:n,number:a}).then((function(e){return y(e)})).then((function(){E("greenNotif"),I("Added "+n+"!"),console.log("greenNotif")})).then(setTimeout((function(){I(null)}),5e3)))},newName:s,newNumber:x,handleNameChange:function(e){return l(e.target.value)},handleNumberChange:function(e){return N(e.target.value)}}),Object(m.jsx)("h3",{children:"Numbers"}),Object(m.jsx)(v,{persons:t,newFilter:w,triggerUpdateList:y,setNotifClass:E,setNotifMessage:I})]})},N=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),a(e),r(e),i(e),c(e)}))};c.a.render(Object(m.jsx)(r.a.StrictMode,{children:Object(m.jsx)(x,{})}),document.getElementById("root")),N()}},[[40,1,2]]]);
//# sourceMappingURL=main.a9ceac58.chunk.js.map