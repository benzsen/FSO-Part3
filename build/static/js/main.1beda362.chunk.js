(this["webpackJsonp2.6-2.10"]=this["webpackJsonp2.6-2.10"]||[]).push([[0],{20:function(e,n,t){},40:function(e,n,t){"use strict";t.r(n);var r=t(2),a=t.n(r),i=t(15),c=t.n(i),o=(t(20),t(6)),u=t(3),s=t(4),d=t.n(s),l="/api/persons/",b=function(e){var n=e.name,t=e.number;return d.a.post(l,{name:n,number:t})},j=function(){return d.a.get(l)},f=function(e){return d.a.delete(l+e)},h=function(e,n){return d.a.put(l+e,n)},m=t(0),O=function(e){return Object(m.jsxs)("div",{children:[" Filter: ",Object(m.jsx)("input",{onChange:e.handleFilterChange})]})},g=function(e){var n=e.addName,t=e.newName,r=e.newNumber,a=e.handleNameChange,i=e.handleNumberChange;return Object(m.jsxs)("form",{onSubmit:n,children:[Object(m.jsxs)("div",{children:["name: ",Object(m.jsx)("input",{value:t,onChange:a})]}),Object(m.jsxs)("div",{children:["number: ",Object(m.jsx)("input",{value:r,onChange:i})]}),Object(m.jsx)("div",{children:Object(m.jsx)("button",{type:"submit",children:"add"})})]})},v=function(e){var n=e.persons,t=e.newFilter.toLowerCase(),r=e.triggerUpdateList,a=e.setNotifClass,i=e.setNotifMessage,c=n.filter((function(e){return e.name.toLowerCase().substring(0,t.length)===t})),o=c.map((function(e){return Object(m.jsxs)("p",{children:[e.name," ",e.number+" ",Object(m.jsx)("button",{onClick:function(){!function(e){if(window.confirm("Are you sure you want to delete?"))f(e.id).then((function(n){r(n),a("greenNotif"),i(e.name+" removed")})).then(setTimeout((function(){i(null)}),5e3))}(e)},children:"delete"})]},e.name)}));return Object(m.jsx)("div",{children:o})},x=function(){var e=Object(r.useState)([]),n=Object(u.a)(e,2),t=n[0],a=n[1],i=Object(r.useState)(""),c=Object(u.a)(i,2),s=c[0],d=c[1],l=Object(r.useState)(""),f=Object(u.a)(l,2),x=f[0],p=f[1],C=Object(r.useState)(""),N=Object(u.a)(C,2),w=N[0],S=N[1],F=Object(r.useState)(""),L=Object(u.a)(F,2),k=L[0],y=L[1],T=Object(r.useState)(null),M=Object(u.a)(T,2),A=M[0],I=M[1],P=Object(r.useState)(""),B=Object(u.a)(P,2),D=B[0],E=B[1],J=function(e){return null===e.message?null:Object(m.jsx)("div",{className:e.notifClass,children:e.message})};return Object(r.useEffect)((function(){j().then((function(e){a(e.data)}))}),[k]),Object(m.jsxs)("div",{children:[Object(m.jsx)("h2",{children:"Phonebook"}),Object(m.jsx)(J,{message:A,notifClass:D}),Object(m.jsx)(O,{handleFilterChange:function(e){return S(e.target.value)}}),Object(m.jsx)("h3",{children:"Add a new"}),Object(m.jsx)(g,{addName:function(e){e.preventDefault();var n=s,r=x,i=t.find((function(e){return e.name.toLowerCase()===n.toLowerCase()}));void 0!==i?window.confirm(s+" is already taken. Would you like to update this contact?")?function(e){var n=t.find((function(n){return n._id===e}));console.log(n);var r=Object(o.a)(Object(o.a)({},n),{},{number:x});h(e,r).then((function(e){return y(e)})).then((function(){E("greenNotif"),I(n.name+"'s number has been updated!")})).then(setTimeout((function(){I(null)}),5e3)).catch((function(e){console.log(e),E("redNotif"),I("Information for "+r.name+" not found")}))}(i._id):alert("Contact Not Modified"):(a(t.concat({name:n,number:r})),b({name:n,number:r}).then((function(e){return y(e)})).then((function(){E("greenNotif"),I("Added "+n+"!"),console.log("greenNotif")})).then(setTimeout((function(){I(null)}),5e3)))},newName:s,newNumber:x,handleNameChange:function(e){return d(e.target.value)},handleNumberChange:function(e){return p(e.target.value)}}),Object(m.jsx)("h3",{children:"Numbers"}),Object(m.jsx)(v,{persons:t,newFilter:w,triggerUpdateList:y,setNotifClass:E,setNotifMessage:I})]})},p=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,41)).then((function(n){var t=n.getCLS,r=n.getFID,a=n.getFCP,i=n.getLCP,c=n.getTTFB;t(e),r(e),a(e),i(e),c(e)}))};c.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(x,{})}),document.getElementById("root")),p()}},[[40,1,2]]]);
//# sourceMappingURL=main.1beda362.chunk.js.map